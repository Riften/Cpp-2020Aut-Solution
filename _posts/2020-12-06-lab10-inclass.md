---
layout: post
filename: 2020-12-06-lab10-inclass
title: Lab10 In Class
date: 2020-12-06 00:00:00 +0800
categories: post
tags:
  - CS171
  - Lab
mathjax: false
---

## 第1关：计算两个实数的积与商（改错题）


```cpp
#include <iostream>
using namespace std;


int product_quotient(double, double, double*, double*);   // 1. 声明参数列表错误

int main()
{
    double op1, op2;
    double pro, quo;
    cin >> op1 >> op2;

    if(!product_quotient(op1, op2, &pro, &quo))
    {
        cout << "The product is:" << pro << endl;
        cout << "The quotient is:" << quo << endl;
    }
    else
    {
        cout << "ERROR!The denominator is zero!" << endl;
    }

    return 0;
}

int product_quotient(double op1, double op2, double *ppro, double *pquo)
{
    if(!op2) return 1;                   // 分母不能为0
    *ppro = op1 * op2;                   // 不应该直接修改指针的值，而应该修改指针指向的值
    *pquo = op1 / op2;                   // 同上

    return 0;
}
```

## 第2关：整型到字符串转换

```cpp
#include <iostream>
#include "func.h"
/*** Your code here ***/
char * itos(int n) {
    // 函数要求返回指针，这里用new为指针分配内存，防止函数结束后内存被回收
    char * str = new char[10];

    // 为了方便，用一个整型的数组把数字的每一位暂存起来
    int tmp[10];

    int len = 0;
    int negative = 0;
    if( n < 0 ) {
        negative = 1;
        n = -n;
    }

    // 为整型数组赋值，同时可以得到数字的长度（位数）
    do {
        tmp[len++] = n%10;
        n/=10;
    } while(n);

    // 根据前面的数字长度信息，把每个数字转换成字符之后存到结果数组里面
    // 这里用了一个 negative 变量简化了正负数的讨论
    for(int i=0; i<len; i++) {
        str[len-i-1+negative] = tmp[i]+'0';
    }
    if (negative) {
        str[0] = '-';
    }
    str[len + negative] = '\0';

    return str;
}
/******** End *********/
```

## 第3关：和为0的两个数字

```cpp
int twoSum(int *nums, int n) {
    int counter =0;
    for(int i=0; i<n-1;i++) {
        for(int j=i+1; j<n; j++) {
            if(nums[i]+nums[j]==0) {
                counter++;
            }
        }
    }
    return counter;
}
```
