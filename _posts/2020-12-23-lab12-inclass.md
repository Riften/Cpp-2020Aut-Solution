---
layout: post
filename: 2020-12-23-lab12-inclass
title: Lab12 In Class
date: 2020-12-23 00:00:00 +0800
categories: post
tags:
  - CS171
  - Lab
mathjax: false
---

## 第1关：线段中点

```cpp
struct Point {
    int x, y;
};

/*** Your code here ***/
Point midPoint(const Point &p1, const Point &p2) {
    int x = p1.x + p2.x;
    int y = p1.y + p2.y;
    if (x / 2 % 2) {
        x++;
    }
    if (y / 2 % 2) {
        y++;
    }
    Point p;
    p.x = x / 2;
    p.y = y / 2;
    return p;
}
/******** End *********/
```

## 第2关：复数结构体

```cpp
struct Complex {
    int real; // 实部
    int image; // 虚部
};

/*** Your code here ***/
Complex complex(const int &a, const int &b) {
    Complex c;
    c.real = a;
    c.image = b;
    return c;
}

Complex add(const Complex &x, const Complex &y) {
    Complex c;
    c.real = x.real + y.real;
    c.image = x.image + y.image;
    return c;
}

Complex mul(const Complex &x, const Complex &y) {
    Complex c;
    c.real = x.real * y.real - x.image * y.image;
    c.image = x.real * y.image + x.image * y.real;
    return c;
}
/******** End *********/
```

## 第3关：时钟结构体

```cpp
#include <iostream>
#include <iomanip>

using namespace std;

struct Clock {
    int hour;
    int minute;
    int second;
};

/*** Your code here ***/
void setTime(Clock &clock, int hour, int minute, int second) {
    clock.hour = hour;
    clock.minute = minute;
    clock.second = second;
}

void increase(Clock &clock, int second) {
    clock.second += second;
    int flag = clock.second / 60;
    clock.second %= 60;
    clock.minute += flag;
    flag = clock.minute / 60;
    clock.minute %= 60;
    clock.hour += flag;
    clock.hour %= 24;
}

// 这里用了一些类似setprecision的控制函数做到格式化输出
// 直接使用分支语句控制也是完全可以的
void showTime(const Clock &clock) {
    cout << setw(2) << setfill('0') << clock.hour;
    cout << ":";
    cout << setw(2) << setfill('0') << clock.minute;
    cout << ":";
    cout << setw(2) << setfill('0') << clock.second;
    cout << endl;
}
/******** End *********/
```
