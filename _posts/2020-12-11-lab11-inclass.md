---
layout: post
filename: 2020-12-11-lab11-inclass
title: Lab11 In Class
date: 2020-12-11 00:00:00 +0800
categories: post
tags:
  - CS171
  - Lab
mathjax: false
---

## 第1关：字符串对调（改错题）


```cpp
#include <iostream>

using namespace std;

int main(int argc, char const *argv[])
{
    char *str1 = new char[1000];
    char *str2 = new char[1000];
    cin.getline(str1, 1000);
    cin.getline(str2, 1000);

    char *p1 = str1, *p2 = str2;
    while (*p1 != '\0' && *p2 != '\0') {
        char temp = *p1;
        *p1 = *p2;
        *p2 = temp;
        p1++;
        p2++;
    }

    cout << str1 << endl;
    cout << str2 << endl;

    return 0;
}
```

## 第2关：获取日期
关键在于月份信息的获取和转换，这里用一个数组避免大量分支语句的使用。

```cpp
#include <iostream>
#include <cstring>
using namespace std;

/*** Your code here ***/
char *months[12] = {"Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"};
int getMonth(char *str) {
    for(int i=0; i<12; i++) {
        if(!strcmp(str, months[i])) {
            return i+1;
        }
    }
    return -1;
}

void getDate(int &dd, int &mm, int &yy) {
    cin >> dd;
    cin.get();
    char MM[4];
    MM[0] = cin.get();
    MM[1] = cin.get();
    MM[2] = cin.get();
    MM[3] = '\0';
    mm = getMonth(MM);
    cin.get();
    cin >> yy;
    return;
}
/******** End *********/
```

## 第3关：同构字符串
同构本质上是一个映射关系，即两个字符串之间的字符可以**一一对应**，这里用两个数组记录和检查两个字符串互相之间的映射关系。

```cpp
#include<cstring>
/*** Your code here ***/
bool isIsomorphic(char s[], char t[]) {
    int len1 = strlen(s);
    int len2 = strlen(t);
    if(len1 != len2) return false;
    char sMap[128]{};
    char tMap[128]{};
    
    for(int i=0; i<len1; i++) {
        if(sMap[s[i]]==0) {
            sMap[s[i]] = t[i];
        } else {
            if(sMap[s[i]] != t[i]) return false;
        }

        if(tMap[t[i]]==0) {
            tMap[t[i]] = s[i];
        } else {
            if(tMap[t[i]] != s[i]) return false;
        }
    }
    return true;
}
/******** End *********/
```
