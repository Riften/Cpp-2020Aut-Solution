---
layout: post
filename: 2020-11-16-lab08-inclass
title: Lab08 In Class
date: 2020-11-16 00:00:00 +0800
categories: post
tags:
  - CS171
  - Lab
mathjax: false
---

## 第1关：检测大写字母
方法上没有什么捷径，就按照题目的要求翻译成代码即可

```cpp
bool isCapital(char c) {
    return c <= 'Z' && c >= 'A';
}
bool detectCapitalUse(char str[]) {
    if(isCapital(str[0])) {     // 如果第一个字母是大写的
        if(str[1] != '\0') {
            if(isCapital(str[1])) { // 如果第二个字母也是大写的
                int i=2;
                while(str[i] != '\0') {
                    if(!isCapital(str[i++])) return false;  // 后面出现小写字母就是错误的
                }
                return true;  // 没出现过就是正确的
            } else {    // 如果第二个字母是小写的
                int i=2;
                while(str[i] != '\0') {
                    if(isCapital(str[i++])) return false; // 后面出现大写字母就是错的
                }
                return true; // 没出现过就是正确的
            }
        } else { // 如果只有一个字母
            return true;
        }
    } else {    // 如果第一个字母是小写的
        int i=1;
        while(str[i]!='\0') {
            if(isCapital(str[i++])) return false; // 后面出现过大写字母就是错误的
        }
        return true; // 没出现过就是正确的
    }
}
```

## 第2关：统计非负整数中指定数字的个数

取出每一个数字判断是不是digit即可，用do while循环避免number为0

```cpp
int countDigit(int number, int digit) {
    int n, count = 0;
    do {
        n = number % 10;
        count += n==digit;
        number /=10;
    }while(number);
    return count;
}
```

可以用递归函数以及`?:`表达式简写成一行。
```cpp
int countDigit(int number, int digit) {
    return number > 9 ? ((number % 10) == digit) + countDigit(number/ 10 , digit): number ==  digit;
}
```

## 第3关：汉明距离
类似前一题，每一次将数字对2取模即可以获取到数字在二进制下的每一位

```cpp
int hanmingDistance(int x, int y) {
    int count = 0;
    do {
        count += (x % 2) != (y % 2);
        x/=2;
        y/=2;
    } while(x || y);
    return count;
}
```

同样可以通过递归函数和`?:`表达式简写成一行
```cpp
int hanmingDistance(int x, int y) {
    return (x==y)? 0 : (x % 2 != y % 2) + hanmingDistance(x/2, y/2);
}
```

另外本题可以通过位运算解决，不做要求，感兴趣的同学可以了解一下。由于位运算的特性，通过位运算解决的代码效率会显著高于其他方法。
```cpp
int hanmingDistance(int x, int y) {
    int dis = x ^ y;
    int count = 0;
    while(dis) {
        count++;
        dis &= (dis-1);
    }
    return count;
}
```
