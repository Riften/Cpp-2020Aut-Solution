---
layout: post
filename: 2020-12-23-lab14-inclass
title: Lab14 In Class
date: 2020-12-23 00:00:00 +0800
categories: post
tags:
  - CS171
  - Lab
mathjax: false
---

## 第1关：圆类

### circle.h

```cpp
/*** Your code here ***/
class Circle {
private:
    int x;
    int y;
    int r;

public:
    Circle(int x, int y, int r);
    int* getO();
    int getR();
    void setR(int r);
    void moveTo(int x, int y);
    void display();
};
/******** End *********/
```

### circle.cpp

```cpp
#include <iostream>
#include "circle.h"

using namespace std;

/*** Your code here ***/
Circle::Circle(int x, int y, int r) {
    this->x = x;
    this->y = y;
    this->r = r;
}

int* Circle::getO() {
    int *ans = new int[2];
    ans[0] = this->x;
    ans[1] = this->y;
    return ans;
}

int Circle::getR() {
    return this->r;
}

void Circle::setR(int r) {
    this->r = r;
}

void Circle::moveTo(int x, int y) {
    this->x = x;
    this->y = y;
}

void Circle::display() {
    cout << this->x << " " << this->y << endl;
    cout << this->r << endl;
}
/******** End *********/
```

## 第2关：大整数类

### longlongint.h

```cpp
/*** Your code here ***/
class LongLongInt {
private:
    int n = 0;
    int *bits = new int[2000] {};

public:
    LongLongInt();
    LongLongInt(const char *str);
    LongLongInt add(const LongLongInt &number);
    LongLongInt mul(const LongLongInt &number);
    void display();
};
/******** End *********/
```

### longlongint.cpp

```cpp
/*** Your code here ***/
#include <iostream>
#include <cstring>
#include "longlongint.h"

LongLongInt::LongLongInt() { }

LongLongInt::LongLongInt(const char *str) {
    int len = std::strlen(str);
    while (len-- > 0) {
        this->bits[n++] = *(str + len) - '0';
    }
}

LongLongInt LongLongInt::add(const LongLongInt &number) {
    int len = this->n > number.n ? this->n : number.n;
    LongLongInt ans = LongLongInt();
    bool flag = 0;
    for (int i = 0; i < len; i++) {
        int s = this->bits[i] + number.bits[i] + flag;
        ans.bits[ans.n++] = s % 10;
        flag = s / 10;
    }
    if (flag) {
        ans.bits[ans.n++] = 1;
    }
    return ans;
}

LongLongInt LongLongInt::mul(const LongLongInt &number) {
    LongLongInt ans = LongLongInt();
    for (int i = 0; i < this->n; i++) {
        for (int j = 0; j < number.n; j++) {
            ans.bits[i + j] += this->bits[i] * number.bits[j];
        }
    }
    for (int i = 0; i < 1999; i++) {
        ans.bits[i + 1] += ans.bits[i] / 10;
        ans.bits[i] %= 10;
        if (ans.bits[i]) ans.n = i + 1;
    }
    if (ans.bits[1999]) ans.n = 2000;
    return ans;
}

void LongLongInt::display() {
    for (int i = this->n - 1; i >= 0; i--) {
        std::cout << this->bits[i];
    }
    std::cout << std::endl;
}
/******** End *********/
```

## 第3关：队列

### myqueue.h

```cpp
#ifndef _MYQUEUE_H
#define _MYQUEUE_H
/*** Your code here ***/
class MyQueue {
public:
    int cap;
    int s;
    int* buf;
    MyQueue(int c);
    MyQueue(const MyQueue &q);
    ~MyQueue();
    bool enQueue(int a);
    int deQueue();
    int size();
    bool isEmpty();
};
/******** End *********/
#endif
```

### myqueue.cpp

```cpp
#include "myqueue.h"
#include <iostream>
using namespace std;

/*** Your code here ***/
MyQueue::MyQueue(int c){
    buf = new int[c];
    s = 0;
    cap = c;
}

MyQueue::MyQueue(const MyQueue &q) {
    s = q.s;
    cap = q.cap;
    buf = new int[cap];
    for(int i=0; i<s; i++) {
        buf[i] = q.buf[i];
    }
}

MyQueue::~MyQueue() {
    delete []buf;
}

bool MyQueue::enQueue(int a){
    if(s==cap) {
        return false;
    }
    buf[s++] = a;
}

int MyQueue::deQueue(){
    if(s==0) {
        return 0;
    }
    int res = buf[0];
    for(int i=0; i<s-1; i++) {
        buf[i] = buf[i+1];
    }
    s--;
    return res;
}

int MyQueue::size() {
    return s;
}

bool MyQueue::isEmpty(){
    return s<1;
}
/******** End *********/
```
